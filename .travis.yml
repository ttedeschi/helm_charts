language: generic

install:
    - wget https://storage.googleapis.com/kubernetes-release/release/`curl -s https://storage.googleapis.com/kubernetes-release/release/stable.txt`/bin/linux/amd64/kubectl -O /tmp/kubectl
    - chmod +x /tmp/kubectl
    - wget https://raw.githubusercontent.com/helm/helm/master/scripts/get-helm-3 -O /tmp/get-helm-3 
    - chmod +x /tmp/get-helm-3
    - /tmp/get-helm-3
    - export PATH=$PATH:/tmp

script: true

before_deploy:
    - ./scripts/build_travis.sh

deploy: # Deploy documentation to Github in the gh_pages branch
    provider: pages
    skip_cleanup: true
    github_token: $token
    local_dir: ./
    on:
        branch: master